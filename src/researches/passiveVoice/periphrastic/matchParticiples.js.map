{"version":3,"sources":["../../../../../src/researches/passiveVoice/periphrastic/matchParticiples.js"],"names":["regularParticiples","irregularParticiples","irregularsEnglish","irregularsFrench","irregularsRegularFrench","irregularsRegular","irregularsIrregularFrench","irregularsIrregular","irregularsEndingInSFrench","irregularsEndingInS","spanishParticiples","italianParticiples","irregularsDutch","nlRegex1","nlRegex2","polishParticiples","languageVariables","en","regularParticiplesRegex","fr","nl","regularParticipleRegexPattern1","regularParticipleRegexPattern2","word","language","matches","Object","keys","forEach","regex","match","push","matchFrenchParticipleWithSuffix","irregulars","suffixes","irregular","irregularParticiplesRegex","RegExp","participleMatch","concat","irregularParticiple"],"mappings":"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","file":"matchParticiples.js","sourcesContent":["import { find } from \"lodash-es\";\nimport { forEach } from \"lodash-es\";\nimport { memoize } from \"lodash-es\";\nimport { includes } from \"lodash-es\";\nimport { flattenDeep } from \"lodash-es\";\n\nimport irregularsEnglishFactory from \"../../english/passiveVoice/irregulars\";\nconst irregularsEnglish = irregularsEnglishFactory();\n\nimport irregularsFrenchFactory from \"../../french/passiveVoice/irregulars\";\n\nconst irregularsFrench = irregularsFrenchFactory();\n\nconst irregularsRegularFrench = irregularsFrench.irregularsRegular;\nconst irregularsIrregularFrench = irregularsFrench.irregularsIrregular;\nconst irregularsEndingInSFrench = irregularsFrench.irregularsEndingInS;\n\nimport spanishParticiplesFactory from \"../../spanish/passiveVoice/participles\";\nconst spanishParticiples = spanishParticiplesFactory();\nimport italianParticiplesFactory from \"../../italian/passiveVoice/participles\";\nconst italianParticiples = italianParticiplesFactory();\nimport irregularsDutchFactory from \"../../dutch/passiveVoice/irregulars\";\nconst irregularsDutch = irregularsDutchFactory();\nconst nlRegex1 = /^(ge|be|ont|ver|her|er)\\S+(d|t)$/ig;\nconst nlRegex2 = /^(aan|af|bij|binnen|los|mee|na|neer|om|onder|samen|terug|tegen|toe|uit|vast)(ge)\\S+(d|t|n)$/ig;\nimport polishParticiplesFactory from \"../../polish/passiveVoice/participles\";\nconst polishParticiples = polishParticiplesFactory();\n\n\n// The language-specific participle regexes.\nconst languageVariables = {\n\ten: {\n\t\tregularParticiplesRegex: /\\w+ed($|[ \\n\\r\\t.,'()\"+\\-;!?:/»«‹›<>])/ig,\n\t},\n\tfr: {\n\t\tregularParticiplesRegex: /\\S+(é|ée|és|ées)($|[ \\n\\r\\t.,'()\"+\\-;!?:/»«‹›<>])/ig,\n\t},\n\tnl: {\n\t\tregularParticipleRegexPattern1: nlRegex1,\n\t\tregularParticipleRegexPattern2: nlRegex2,\n\t},\n};\n\n/**\n * Returns words that have been determined to be a regular participle.\n *\n * @param {string} word The word to check.\n * @param {string} language The language in which to match.\n *\n * @returns {Array} A list with the matches.\n */\nconst regularParticiples = function( word, language ) {\n\t// In Spanish, Italian and Polish we don't match participles with a regular regex pattern.\n\tif ( ( language === \"es\" ) || ( language === \"it\" ) || ( language === \"pl\" )  ) {\n\t\treturn [];\n\t}\n\n\t// Matches word with language-specific participle regexes.\n\tlet matches = [];\n\n\tObject.keys( languageVariables[ language ] ).forEach( function( regex ) {\n\t\tconst match = word.match( languageVariables[ language ][ regex ] );\n\t\tif ( match !== null ) {\n\t\t\tmatches.push( match );\n\t\t}\n\t} );\n\n\tmatches = flattenDeep( matches );\n\n\treturn matches;\n};\n\n/**\n * Returns an array of matches of irregular participles with suffixes.\n *\n * @param {string} word The word to match on.\n * @param {Array} irregulars The list of irregulars to match.\n * @param {string} suffixes The suffixes to match the word with.\n *\n * @returns {Array} A list with matched irregular participles.\n */\nconst matchFrenchParticipleWithSuffix = function( word, irregulars, suffixes ) {\n\tconst matches = [];\n\tforEach( irregulars, function( irregular ) {\n\t\tconst irregularParticiplesRegex = new RegExp( \"^\" + irregular + suffixes + \"?$\", \"ig\" );\n\t\tconst participleMatch = word.match( irregularParticiplesRegex );\n\t\tif ( participleMatch ) {\n\t\t\tmatches.push( participleMatch[ 0 ] );\n\t\t}\n\t} );\n\treturn matches;\n};\n\n/**\n * Returns the matches for a word in the list of irregulars.\n *\n * @param {string} word The word to match in the list.\n * @param {string} language The language for which to match.\n *\n * @returns {Array} A list with the matches.\n */\nconst irregularParticiples = function( word, language ) {\n\tlet matches = [];\n\n\tswitch ( language ) {\n\t\tcase \"fr\":\n\t\t\t// Match different classes of participles with suffixes.\n\t\t\tmatches = matches.concat( matchFrenchParticipleWithSuffix( word, irregularsRegularFrench, \"(e|s|es)\" ) );\n\t\t\tmatches = matches.concat( matchFrenchParticipleWithSuffix( word, irregularsEndingInSFrench, \"(e|es)\" ) );\n\n\t\t\t// Match irregular participles that don't require adding a suffix.\n\t\t\tfind( irregularsIrregularFrench, function( irregularParticiple ) {\n\t\t\t\tif ( irregularParticiple === word ) {\n\t\t\t\t\tmatches.push( irregularParticiple );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tbreak;\n\t\tcase \"es\":\n\t\t\t// In Spanish, we only match passives from a word list.\n\t\t\tif ( includes( spanishParticiples, word ) ) {\n\t\t\t\tmatches.push( word );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"it\":\n\t\t\t// In Italian, we only match passives from a word list.\n\t\t\tif ( includes( italianParticiples, word ) ) {\n\t\t\t\tmatches.push( word );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"nl\":\n\t\t\tif ( includes( irregularsDutch, word ) ) {\n\t\t\t\tmatches.push( word );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"pl\":\n\t\t\t// In Polish, we only match passives from a word list.\n\t\t\tif ( includes( polishParticiples, word ) ) {\n\t\t\t\tmatches.push( word );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"en\":\n\t\tdefault:\n\t\t\tfind( irregularsEnglish, function( irregularParticiple ) {\n\t\t\t\tif ( irregularParticiple === word ) {\n\t\t\t\t\tmatches.push( irregularParticiple );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tbreak;\n\t}\n\treturn matches;\n};\n\n/**\n * Returns methods to return participles for a language.\n *\n * @returns {Object} Methods to return participles in a language.\n */\nexport default function() {\n\treturn {\n\t\tregularParticiples: memoize( regularParticiples ),\n\t\tirregularParticiples: memoize( irregularParticiples ),\n\t};\n}\n"]}