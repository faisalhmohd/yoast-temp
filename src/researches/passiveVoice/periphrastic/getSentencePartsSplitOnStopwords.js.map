{"version":3,"sources":["../../../../../src/researches/passiveVoice/periphrastic/getSentencePartsSplitOnStopwords.js"],"names":["auxiliariesGerman","allAuxiliaries","stopwordsGerman","stopwordsDutch","auxiliariesDutch","stopwordsPolish","auxiliariesPolish","languageVariables","de","SentencePart","stopwordRegex","auxiliaryRegex","locale","nl","pl","sanitizeMatches","matches","match","splitOnWords","sentence","stopwords","splitSentences","stopword","splitSentence","split","push","startIndex","indexOf","endIndex","length","substr","createSentenceParts","sentences","language","sentenceParts","part","foundAuxiliaries"],"mappings":";;;;;;AAAA;;AAIA;;;;AACA;;;;AAGA;;;;AAEA;;;;AAGA;;;;AAIA;;;;AAEA;;;;AAEA;;;;AAIA;;;;AAEA;;;;AAEA;;;;;;AAtBA;AAKA,IAAMA,oBAAoB,6BAA2BC,cAArD;;AAEA,IAAMC,kBAAkB,0BAAxB;;AAEA;;AAIA,IAAMC,iBAAiB,0BAAvB;;AAEA,IAAMC,mBAAmB,4BAAzB;;AAEA;;AAIA,IAAMC,kBAAkB,0BAAxB;;AAEA,IAAMC,oBAAoB,4BAA1B;;AAGA;AACA,IAAMC,oBAAoB;AACzBC,KAAI;AACHC,sCADG;AAEHC,iBAAe,oCAAcR,eAAd,CAFZ;AAGHS,kBAAgB,oCAAcX,iBAAd,CAHb;AAIHY,UAAQ;AAJL,EADqB;AAOzBC,KAAI;AACHJ,sCADG;AAEHC,iBAAe,oCAAcP,cAAd,CAFZ;AAGHQ,kBAAgB,oCAAcP,gBAAd,CAHb;AAIHQ,UAAQ;AAJL,EAPqB;AAazBE,KAAI;AACHL,sCADG;AAEHC,iBAAe,oCAAcL,eAAd,CAFZ;AAGHM,kBAAgB,oCAAcL,iBAAd,CAHb;AAIHM,UAAQ;AAJL;AAbqB,CAA1B;;AAqBA;;;;;;AAMA,SAASG,eAAT,CAA0BC,OAA1B,EAAoC;AACnC,QAAO,mBAAKA,OAAL,EAAc,UAAUC,KAAV,EAAkB;AACtC,SAAO,2BAAaA,KAAb,CAAP;AACA,EAFM,CAAP;AAGA;;AAED;;;;;;;AAOA,SAASC,YAAT,CAAuBC,QAAvB,EAAiCC,SAAjC,EAA6C;AAC5C,KAAMC,iBAAiB,EAAvB;;AAEA;AACA,wBAASD,SAAT,EAAoB,UAAUE,QAAV,EAAqB;AACxC,MAAMC,gBAAgBJ,SAASK,KAAT,CAAgBF,QAAhB,CAAtB;AACA,MAAK,CAAE,uBAASC,cAAe,CAAf,CAAT,CAAP,EAAuC;AACtCF,kBAAeI,IAAf,CAAqBF,cAAe,CAAf,CAArB;AACA;AACD,MAAMG,aAAaP,SAASQ,OAAT,CAAkBL,QAAlB,CAAnB;AACA,MAAMM,WAAWT,SAASU,MAA1B;AACAV,aAAW,2BAAaA,SAASW,MAAT,CAAiBJ,UAAjB,EAA6BE,QAA7B,CAAb,CAAX;AACA,EARD;;AAUA;AACAP,gBAAeI,IAAf,CAAqBN,QAArB;AACA,QAAOE,cAAP;AACA;;AAED;;;;;;;;AAQA,SAASU,mBAAT,CAA8BC,SAA9B,EAAyCC,QAAzC,EAAoD;AACnD,KAAMtB,iBAAiBJ,kBAAmB0B,QAAnB,EAA8BtB,cAArD;AACA,KAAMF,eAAeF,kBAAmB0B,QAAnB,EAA8BxB,YAAnD;AACA,KAAMyB,gBAAgB,EAAtB;AACA,wBAASF,SAAT,EAAoB,UAAUG,IAAV,EAAiB;AACpC,MAAMC,mBAAmBrB,gBAAiBoB,KAAKlB,KAAL,CAAYN,kBAAkB,EAA9B,CAAjB,CAAzB;AACAuB,gBAAcT,IAAd,CAAoB,IAAIhB,YAAJ,CAAkB0B,IAAlB,EAAwBC,gBAAxB,EAA0C7B,kBAAmB0B,QAAnB,EAA8BrB,MAAxE,CAApB;AACA,EAHD;AAIA,QAAOsB,aAAP;AACA;;AAED;;;;;;;;AAQA,SAASX,aAAT,CAAwBJ,QAAxB,EAAkCc,QAAlC,EAA6C;AAC5C,KAAMvB,gBAAgBH,kBAAmB0B,QAAnB,EAA8BvB,aAApD;AACA,KAAMU,YAAYD,SAASF,KAAT,CAAgBP,aAAhB,KAAmC,EAArD;AACA,KAAMW,iBAAiBH,aAAcC,QAAd,EAAwBC,SAAxB,CAAvB;AACA,QAAOW,oBAAqBV,cAArB,EAAqCY,QAArC,CAAP;AACA;;kBAEcV,a","file":"getSentencePartsSplitOnStopwords.js","sourcesContent":["import { forEach } from \"lodash-es\";\nimport { isEmpty } from \"lodash-es\";\nimport { map } from \"lodash-es\";\n\nimport arrayToRegex from \"../../../stringProcessing/createRegexFromArray.js\";\nimport stripSpaces from \"../../../stringProcessing/stripSpaces.js\";\n\n// German-specific imports.\nimport SentencePartGerman from \"../../german/passiveVoice/SentencePart.js\";\n\nimport auxiliariesGermanFactory from \"../../german/passiveVoice/auxiliaries.js\";\n\nconst auxiliariesGerman = auxiliariesGermanFactory().allAuxiliaries;\nimport stopwordsGermanFactory from \"../../german/passiveVoice/stopwords.js\";\nconst stopwordsGerman = stopwordsGermanFactory();\n\n// Dutch-specific imports.\nimport SentencePartDutch from \"../../dutch/passiveVoice/SentencePart.js\";\n\nimport stopwordsDutchFactory from \"../../dutch/passiveVoice/stopwords.js\";\nconst stopwordsDutch = stopwordsDutchFactory();\nimport auxiliariesDutchFactory from \"../../dutch/passiveVoice/auxiliaries.js\";\nconst auxiliariesDutch = auxiliariesDutchFactory();\n\n// Polish-specific imports.\nimport SentencePartPolish from \"../../polish/passiveVoice/SentencePart.js\";\n\nimport stopwordsPolishFactory from \"../../polish/passiveVoice/stopwords.js\";\nconst stopwordsPolish = stopwordsPolishFactory();\nimport auxiliariesPolishFactory from \"../../polish/passiveVoice/auxiliaries.js\";\nconst auxiliariesPolish = auxiliariesPolishFactory();\n\n\n// The language-specific variables.\nconst languageVariables = {\n\tde: {\n\t\tSentencePart: SentencePartGerman,\n\t\tstopwordRegex: arrayToRegex( stopwordsGerman ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesGerman ),\n\t\tlocale: \"de_DE\",\n\t},\n\tnl: {\n\t\tSentencePart: SentencePartDutch,\n\t\tstopwordRegex: arrayToRegex( stopwordsDutch ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesDutch ),\n\t\tlocale: \"nl_NL\",\n\t},\n\tpl: {\n\t\tSentencePart: SentencePartPolish,\n\t\tstopwordRegex: arrayToRegex( stopwordsPolish ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesPolish ),\n\t\tlocale: \"pl_PL\",\n\t},\n};\n\n/**\n * Strips spaces from the auxiliary matches.\n *\n * @param {Array} matches A list with matches of auxiliaries.\n * @returns {Array} A list with matches with spaces removed.\n */\nfunction sanitizeMatches( matches ) {\n\treturn map( matches, function( match ) {\n\t\treturn stripSpaces( match );\n\t} );\n}\n\n/**\n * Splits sentences into sentence parts based on stopwords.\n *\n * @param {string} sentence The sentence to split.\n * @param {Array} stopwords The array with matched stopwords.\n * @returns {Array} The array with sentence parts.\n */\nfunction splitOnWords( sentence, stopwords ) {\n\tconst splitSentences = [];\n\n\t// Split the sentence on each found stopword and push this part in an array.\n\tforEach( stopwords, function( stopword ) {\n\t\tconst splitSentence = sentence.split( stopword );\n\t\tif ( ! isEmpty( splitSentence[ 0 ] ) ) {\n\t\t\tsplitSentences.push( splitSentence[ 0 ] );\n\t\t}\n\t\tconst startIndex = sentence.indexOf( stopword );\n\t\tconst endIndex = sentence.length;\n\t\tsentence = stripSpaces( sentence.substr( startIndex, endIndex ) );\n\t} );\n\n\t// Push the remainder of the sentence in the sentence parts array.\n\tsplitSentences.push( sentence );\n\treturn splitSentences;\n}\n\n/**\n * Creates sentence parts based on split sentences.\n\n * @param {Array}   sentences   The array with split sentences.\n * @param {string}  language    The language for which to create sentence parts.\n *\n * @returns {Array} The array with sentence parts.\n */\nfunction createSentenceParts( sentences, language ) {\n\tconst auxiliaryRegex = languageVariables[ language ].auxiliaryRegex;\n\tconst SentencePart = languageVariables[ language ].SentencePart;\n\tconst sentenceParts = [];\n\tforEach( sentences, function( part ) {\n\t\tconst foundAuxiliaries = sanitizeMatches( part.match( auxiliaryRegex || [] ) );\n\t\tsentenceParts.push( new SentencePart( part, foundAuxiliaries, languageVariables[ language ].locale ) );\n\t} );\n\treturn sentenceParts;\n}\n\n/**\n * Splits the sentence into sentence parts based on stopwords.\n *\n * @param {string} sentence The text to split into sentence parts.\n * @param {string} language The language for which to split sentences.\n *\n * @returns {Array} The array with sentence parts.\n */\nfunction splitSentence( sentence, language ) {\n\tconst stopwordRegex = languageVariables[ language ].stopwordRegex;\n\tconst stopwords = sentence.match( stopwordRegex ) || [];\n\tconst splitSentences = splitOnWords( sentence, stopwords );\n\treturn createSentenceParts( splitSentences, language );\n}\n\nexport default splitSentence;\n"]}