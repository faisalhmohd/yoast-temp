{"version":3,"sources":["../../../src/worker/createWorker.js"],"names":["URL","window","webkitURL","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","createWorker","url","worker","Worker","e","blob","Blob","type","e1","blobBuilder","append","getBlob","blobUrl","createObjectURL","e2"],"mappings":";;;;;AAAA,IAAMA,MAAMC,OAAOD,GAAP,IAAcC,OAAOC,SAAjC;AACA,IAAMC,cAAcF,OAAOE,WAAP,IAAsBF,OAAOG,iBAA7B,IAAkDH,OAAOI,cAA7E;;AAEA;;;;;;;AAOA,SAASC,YAAT,CAAuBC,GAAvB,EAA6B;AAC5B,KAAIC,SAAS,IAAb;AACA,KAAI;AACHA,WAAS,IAAIC,MAAJ,CAAYF,GAAZ,CAAT;AACA,EAFD,CAEE,OAAQG,CAAR,EAAY;AACb,MAAI;AACH,OAAIC,aAAJ;AACA,OAAI;AACHA,WAAO,IAAIC,IAAJ,CAAU,CAAE,oBAAoBL,GAApB,GAA0B,KAA5B,CAAV,EAA+C,EAAEM,MAAM,wBAAR,EAA/C,CAAP;AACA,IAFD,CAEE,OAAQC,EAAR,EAAa;AACd,QAAMC,cAAc,IAAIZ,WAAJ,EAApB;AACAY,gBAAYC,MAAZ,CAAoB,oBAAoBT,GAApB,GAA0B,KAA9C;AACAI,WAAOI,YAAYE,OAAZ,CAAqB,wBAArB,CAAP;AACA;AACD,OAAMC,UAAUlB,IAAImB,eAAJ,CAAqBR,IAArB,CAAhB;AACAH,YAAS,IAAIC,MAAJ,CAAYS,OAAZ,CAAT;AACA,GAXD,CAWE,OAAQE,EAAR,EAAa;AACd,SAAMA,EAAN;AACA;AACD;AACD,QAAOZ,MAAP;AACA;;kBAEcF,Y","file":"createWorker.js","sourcesContent":["const URL = window.URL || window.webkitURL;\nconst BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\n/**\n * Creates a WebWorker using the given url.\n *\n * @param {string} url The url of the worker.\n *\n * @returns {Worker} The worker.\n */\nfunction createWorker( url ) {\n\tlet worker = null;\n\ttry {\n\t\tworker = new Worker( url );\n\t} catch ( e ) {\n\t\ttry {\n\t\t\tlet blob;\n\t\t\ttry {\n\t\t\t\tblob = new Blob( [ \"importScripts('\" + url + \"');\" ], { type: \"application/javascript\" } );\n\t\t\t} catch ( e1 ) {\n\t\t\t\tconst blobBuilder = new BlobBuilder();\n\t\t\t\tblobBuilder.append( \"importScripts('\" + url + \"');\" );\n\t\t\t\tblob = blobBuilder.getBlob( \"application/javascript\" );\n\t\t\t}\n\t\t\tconst blobUrl = URL.createObjectURL( blob );\n\t\t\tworker = new Worker( blobUrl );\n\t\t} catch ( e2 ) {\n\t\t\tthrow e2;\n\t\t}\n\t}\n\treturn worker;\n}\n\nexport default createWorker;\n"]}