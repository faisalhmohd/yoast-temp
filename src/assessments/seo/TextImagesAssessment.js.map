{"version":3,"sources":["../../../../src/assessments/seo/TextImagesAssessment.js"],"names":["TextImagesAssessment","config","defaultConfig","parametersRecalibration","lowerBoundary","upperBoundary","scoresRegular","noImages","withAltKeyword","withAltNonKeyword","withAlt","noAlt","scoresRecalibration","withAltGoodNumberOfKeywordMatches","withAltTooFewKeywordMatches","withAltTooManyKeywordMatches","urlTitle","urlCallToAction","identifier","_config","paper","researcher","i18n","imageCount","getResearch","altProperties","calculatedScore","process","env","YOAST_RECALIBRATION","_minNumberOfKeywordMatches","Math","ceil","_maxNumberOfKeywordMatches","floor","calculateResultRecalibration","calculateResultRegular","assessmentResult","setScore","score","setText","resultText","hasText","sprintf","dgettext","hasTooFewMatches","dngettext","hasGoodNumberOfMatches","hasTooManyMatches"],"mappings":"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","file":"TextImagesAssessment.js","sourcesContent":["import { merge } from \"lodash-es\";\n\nimport Assessment from \"../../assessment\";\nimport { inRangeStartEndInclusive } from \"../../helpers/inRange.js\";\nimport { createAnchorOpeningTag } from \"../../helpers/shortlinker\";\nimport AssessmentResult from \"../../values/AssessmentResult\";\n\n/**\n * Represents the assessment that will look if the images have alt-tags and checks if the keyword is present in one of them.\n */\nexport default class TextImagesAssessment extends Assessment {\n\t/**\n\t * Sets the identifier and the config.\n\t *\n\t * @param {object} config The configuration to use.\n\t *\n\t * @returns {void}\n\t */\n\tconstructor( config = {} ) {\n\t\tsuper();\n\n\t\tconst defaultConfig = {\n\t\t\tparametersRecalibration: {\n\t\t\t\tlowerBoundary: 0.3,\n\t\t\t\tupperBoundary: 0.75,\n\t\t\t},\n\t\t\tscoresRegular: {\n\t\t\t\tnoImages: 3,\n\t\t\t\twithAltKeyword: 9,\n\t\t\t\twithAltNonKeyword: 6,\n\t\t\t\twithAlt: 6,\n\t\t\t\tnoAlt: 6,\n\t\t\t},\n\t\t\tscoresRecalibration: {\n\t\t\t\tnoImages: 3,\n\t\t\t\twithAltGoodNumberOfKeywordMatches: 9,\n\t\t\t\twithAltTooFewKeywordMatches: 6,\n\t\t\t\twithAltTooManyKeywordMatches: 6,\n\t\t\t\twithAltNonKeyword: 6,\n\t\t\t\twithAlt: 6,\n\t\t\t\tnoAlt: 6,\n\t\t\t},\n\t\t\turlTitle: createAnchorOpeningTag( \"https://yoa.st/33c\" ),\n\t\t\turlCallToAction: createAnchorOpeningTag( \"https://yoa.st/33d\" ),\n\t\t};\n\n\t\tthis.identifier = \"textImages\";\n\t\tthis._config = merge( defaultConfig, config );\n\t}\n\n\t/**\n\t * Execute the Assessment and return a result.\n\t *\n\t * @param {Paper} paper The Paper object to assess.\n\t * @param {Researcher} researcher The Researcher object containing all available researches.\n\t * @param {Jed} i18n The locale object.\n\t *\n\t * @returns {AssessmentResult} The result of the assessment, containing both a score and a descriptive text.\n\t */\n\tgetResult( paper, researcher, i18n ) {\n\t\tthis.imageCount = researcher.getResearch( \"imageCount\" );\n\t\tthis.altProperties = researcher.getResearch( \"altTagCount\" );\n\n\t\tlet calculatedScore;\n\t\tif ( process.env.YOAST_RECALIBRATION === \"enabled\" ) {\n\t\t\tthis._minNumberOfKeywordMatches = Math.ceil( this.imageCount * this._config.parametersRecalibration.lowerBoundary );\n\t\t\tthis._maxNumberOfKeywordMatches = Math.floor( this.imageCount * this._config.parametersRecalibration.upperBoundary );\n\n\t\t\tcalculatedScore = this.calculateResultRecalibration( i18n );\n\t\t} else {\n\t\t\tcalculatedScore = this.calculateResultRegular( i18n );\n\t\t}\n\n\t\tconst assessmentResult = new AssessmentResult();\n\t\tassessmentResult.setScore( calculatedScore.score );\n\t\tassessmentResult.setText( calculatedScore.resultText );\n\n\t\treturn assessmentResult;\n\t}\n\n\t/**\n\t * Checks whether the paper has text.\n\t *\n\t * @param {Paper} paper The paper to use for the assessment.\n\t *\n\t * @returns {boolean} True when there is text.\n\t */\n\tisApplicable( paper ) {\n\t\treturn paper.hasText();\n\t}\n\n\t/**\n\t * Calculate the score and the feedback string based on the current image count and current image alt-tag count.\n\t *\n\t * @param {Jed} i18n The object used for translations.\n\t *\n\t * @returns {Object} The calculated score and the feedback string.\n\t */\n\tcalculateResultRegular( i18n ) {\n\t\tif ( this.imageCount === 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRegular.noImages,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sImage alt attributes%3$s: No images appear on this page. %2$sAdd some%3$s!\" ),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Has alt-tag and keywords\n\t\tif ( this.altProperties.withAltKeyword > 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRegular.withAltKeyword,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators:  %1$s expands to a link on yoast.com, %2$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sImage alt attributes%2$s: \" +\n\t\t\t\t\t\t\"Some images on this page contain alt attributes with words from your keyphrase! Good job!\" ),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Has alt-tag, but no keywords and it's not okay\n\t\tif ( this.altProperties.withAltNonKeyword > 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRegular.withAltNonKeyword,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sImage alt attributes%3$s: \" +\n\t\t\t\t\t\t\"Images on this page do not have alt attributes with words from your keyphrase. %2$sFix that%3$s!\" ),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Has alt-tag, but no keyword is set\n\t\tif ( this.altProperties.withAlt > 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRegular.withAlt,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sImage alt attributes%3$s: \" +\n\t\t\t\t\t\t\"Images on this page do not have alt attributes with words from your keyphrase. %2$sFix that%3$s!\" ),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Has no alt-tag\n\t\tif ( this.altProperties.noAlt > 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRegular.noAlt,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sImage alt attributes%3$s: \" +\n\t\t\t\t\t\t\"Images on this page do not have alt attributes with words from your keyphrase. %2$sFix that%3$s!\" ),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Checks whether there are too few alt tags with keywords. This check is applicable when there are\n\t * 5 or more images.\n\t *\n\t * @returns {boolean} Returns true if there are at least 5 images and the number of alt tags\n\t * with keywords is under the specified recommended minimum.\n\t */\n\thasTooFewMatches() {\n\t\treturn this.imageCount > 4 && this.altProperties.withAltKeyword > 0 &&\n\t\t\tthis.altProperties.withAltKeyword < this._minNumberOfKeywordMatches;\n\t}\n\n\t/**\n\t * Checks whether there is a sufficient number of alt tags with keywords. There are different recommended\n\t * ranges for less than 5 keywords, exactly 5 keywords, and more than 5 keywords.\n\t *\n\t * @returns {boolean} Returns true if the number of alt tags with keywords is within the recommended range.\n\t */\n\thasGoodNumberOfMatches() {\n\t\treturn ( ( this.imageCount < 5 && this.altProperties.withAltKeyword > 0 ) ||\n\t\t\t( this.imageCount === 5 && inRangeStartEndInclusive( this.altProperties.withAltKeyword, 2, 4 ) ) ||\n\t\t\t( this.imageCount > 4 &&\n\t\t\t\tinRangeStartEndInclusive( this.altProperties.withAltKeyword, this._minNumberOfKeywordMatches, this._maxNumberOfKeywordMatches ) ) );\n\t}\n\n\t/**\n\t * Checks whether there is a sufficient number of alt tags with keywords. This check is applicable when there are\n\t * 5 or more images.\n\t *\n\t * @returns {boolean} Returns true if there are at least 5 images and the number of alt tags with keywords\n\t * is within the recommended range.\n\t */\n\thasTooManyMatches() {\n\t\treturn this.imageCount > 4 && this.altProperties.withAltKeyword > this._maxNumberOfKeywordMatches;\n\t}\n\n\n\t/**\n\t * Calculate the result based on the current image count and current image alt-tag count.\n\t *\n\t * @param {Object} i18n The object used for translations.\n\t *\n\t * @returns {Object} The calculated result.\n\t */\n\tcalculateResultRecalibration( i18n ) {\n\t\t// No images.\n\t\tif ( this.imageCount === 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRecalibration.noImages,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext(\n\t\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\t\"%1$sImage alt attributes%3$s: No images appear on this page. %2$sAdd some%3$s!\"\n\t\t\t\t\t),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Has alt-tags, but no keyword is set.\n\t\tif ( this.altProperties.withAlt > 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRecalibration.withAlt,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext(\n\t\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\t\"%1$sImage alt attributes%3$s: \" +\n\t\t\t\t\t\t\"Images on this page have alt attributes, but you have not set your keyphrase. %2$sFix that%3$s!\"\n\t\t\t\t\t),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Has alt-tags, but no keywords while a keyword is set.\n\t\tif ( this.altProperties.withAltNonKeyword > 0 && this.altProperties.withAltKeyword === 0 ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRecalibration.withAltNonKeyword,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\ti18n.dgettext(\n\t\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\t\"%1$sImage alt attributes%3$s: \" +\n\t\t\t\t\t\t\"Images on this page do not have alt attributes that reflect the topic of your text. \" +\n\t\t\t\t\t\t\"%2$sAdd your keyphrase or synonyms to the alt tags of relevant images%3$s!\"\n\t\t\t\t\t),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Image count ≥5, has alt-tags with too few keywords.\n\t\tif ( this.hasTooFewMatches() ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRecalibration.withAltTooFewKeywordMatches,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$d expands to the number of images containing an alt attribute with the keyword,\n\t\t\t\t\t * %2$d expands to the total number of images, %3$s and %4$s expand to links on yoast.com,\n\t\t\t\t\t * %5$s expands to the anchor end tag. */\n\t\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\t\"%3$sImage alt attributes%5$s: Out of %2$d images on this page, only %1$d has an alt attribute that \" +\n\t\t\t\t\t\t\"reflects the topic of your text. \" +\n\t\t\t\t\t\t\"%4$sAdd your keyphrase or synonyms to the alt tags of more relevant images%5$s!\",\n\t\t\t\t\t\t\"%3$sImage alt attributes%5$s: Out of %2$d images on this page, only %1$d have alt attributes that \" +\n\t\t\t\t\t\t\"reflect the topic of your text. \" +\n\t\t\t\t\t\t\"%4$sAdd your keyphrase or synonyms to the alt tags of more relevant images%5$s!\",\n\t\t\t\t\t\tthis.altProperties.withAltKeyword,\n\t\t\t\t\t),\n\t\t\t\t\tthis.altProperties.withAltKeyword,\n\t\t\t\t\tthis.imageCount,\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * The hasGoodNumberOfMatches check needs to be made before the check for too many matches because of the special rule for\n\t\t * exactly 5 matches.\n\t\t */\n\t\tif ( this.hasGoodNumberOfMatches() ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRecalibration.withAltGoodNumberOfKeywordMatches,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$s expands to a link on yoast.com,\n\t\t\t\t\t * %2$s expands to the anchor end tag. */\n\t\t\t\t\ti18n.dgettext(\n\t\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\t\"%1$sImage alt attributes%2$s: Good job!\",\n\t\t\t\t\t),\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\tif ( this.hasTooManyMatches() ) {\n\t\t\treturn {\n\t\t\t\tscore: this._config.scoresRecalibration.withAltTooManyKeywordMatches,\n\t\t\t\tresultText: i18n.sprintf(\n\t\t\t\t\t/* Translators: %1$d expands to the number of images containing an alt attribute with the keyword,\n                     * %2$d expands to the total number of images, %3$s and %4$s expand to a link on yoast.com,\n\t\t\t\t\t * %5$s expands to the anchor end tag. */\n\t\t\t\t\ti18n.dgettext(\n\t\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\t\"%3$sImage alt attributes%5$s: Out of %2$d images on this page, %1$d have alt attributes with \" +\n\t\t\t\t\t\t\"words from your keyphrase or synonyms. \" +\n\t\t\t\t\t\t\"That's a bit much. %4$sOnly include the keyphrase or its synonyms when it really fits the image%5$s.\",\n\t\t\t\t\t),\n\t\t\t\t\tthis.altProperties.withAltKeyword,\n\t\t\t\t\tthis.imageCount,\n\t\t\t\t\tthis._config.urlTitle,\n\t\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\t\"</a>\"\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\t// Images, but no alt tags.\n\t\treturn {\n\t\t\tscore: this._config.scoresRecalibration.noAlt,\n\t\t\tresultText: i18n.sprintf(\n\t\t\t\t/* Translators: %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sImage alt attributes%3$s: \" +\n\t\t\t\t\t\"Images on this page do not have alt attributes that reflect the topic of your text. \" +\n\t\t\t\t\t\"%2$sAdd your keyphrase or synonyms to the alt tags of relevant images%3$s!\" ),\n\t\t\t\tthis._config.urlTitle,\n\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\"</a>\"\n\t\t\t),\n\t\t};\n\t}\n}\n"]}