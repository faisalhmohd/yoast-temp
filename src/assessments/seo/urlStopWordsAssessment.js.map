{"version":3,"sources":["../../../../src/assessments/seo/urlStopWordsAssessment.js"],"names":["availableLanguages","calculateUrlStopWordsCountResult","stopWordCount","i18n","urlTitle","urlCallToAction","score","text","sprintf","dngettext","urlHasStopWordsAssessment","paper","researcher","stopWords","getResearch","assessmentResult","stopWordsResult","length","setScore","setText","identifier","isApplicable","getLocale","getResult"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,qBAAqB,CAAE,IAAF,CAA3B;;AAEA;;;;;;;;AAQA,IAAMC,mCAAmC,SAAnCA,gCAAmC,CAAUC,aAAV,EAAyBC,IAAzB,EAAgC;AACxE,KAAMC,WAAW,yCAAwB,oBAAxB,CAAjB;AACA,KAAMC,kBAAkB,yCAAwB,oBAAxB,CAAxB;;AAEA,KAAKH,gBAAgB,CAArB,EAAyB;AACxB,SAAO;AACNI,UAAO,CADD;AAENC,SAAMJ,KAAKK,OAAL;AACL;AACAL,QAAKM,SAAL,CACC,kBADD,EAEC,yFAFD,EAGC,0FAHD,EAICP,aAJD,CAFK,EAQLE,QARK,EASLC,eATK,EAUL,MAVK;AAFA,GAAP;AAeA;;AAED,QAAO,EAAP;AACA,CAvBD;;AAyBA;;;;;;;;;AASA,IAAMK,4BAA4B,SAA5BA,yBAA4B,CAAUC,KAAV,EAAiBC,UAAjB,EAA6BT,IAA7B,EAAoC;AACrE,KAAMU,YAAYD,WAAWE,WAAX,CAAwB,gBAAxB,CAAlB;;AAEA,KAAMC,mBAAmB,gCAAzB;;AAEA,KAAMC,kBAAkBf,iCAAkCY,UAAUI,MAA5C,EAAoDd,IAApD,CAAxB;;AAEAY,kBAAiBG,QAAjB,CAA2BF,gBAAgBV,KAA3C;AACAS,kBAAiBI,OAAjB,CAA0BH,gBAAgBT,IAA1C;;AAEA,QAAOQ,gBAAP;AACA,CAXD;;kBAae;AACdK,aAAY,cADE;AAEdC,eAAc,sBAAUV,KAAV,EAAkB;AAC/B,SAAO,uCAAyBA,MAAMW,SAAN,EAAzB,EAA4CtB,kBAA5C,CAAP;AACA,EAJa;AAKduB,YAAWb;AALG,C","file":"urlStopWordsAssessment.js","sourcesContent":["import AssessmentResult from \"../../values/AssessmentResult\";\nimport getLanguageAvailability from \"../../helpers/getLanguageAvailability\";\nimport { createAnchorOpeningTag } from \"../../helpers/shortlinker\";\n\nconst availableLanguages = [ \"en\" ];\n\n/**\n * Calculate the score based on the amount of stop words in the url.\n *\n * @param {number} stopWordCount The amount of stop words to be checked against.\n * @param {Jed} i18n The locale object.\n *\n * @returns {Object} The resulting score object.\n */\nconst calculateUrlStopWordsCountResult = function( stopWordCount, i18n ) {\n\tconst urlTitle = createAnchorOpeningTag( \"https://yoa.st/34p\" );\n\tconst urlCallToAction = createAnchorOpeningTag( \"https://yoa.st/34q\" );\n\n\tif ( stopWordCount > 0 ) {\n\t\treturn {\n\t\t\tscore: 5,\n\t\t\ttext: i18n.sprintf(\n\t\t\t\t/* Translators: %1$s and %2$s open links to an articles about stopwords, %3$s closes the links */\n\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t\"%1$sSlug stopwords%3$s: The slug for this page contains a stop word. %2$sRemove it%3$s!\",\n\t\t\t\t\t\"%1$sSlug stopwords%3$s: The slug for this page contains stop words. %2$sRemove them%3$s!\",\n\t\t\t\t\tstopWordCount\n\t\t\t\t),\n\t\t\t\turlTitle,\n\t\t\t\turlCallToAction,\n\t\t\t\t\"</a>\"\n\t\t\t),\n\t\t};\n\t}\n\n\treturn {};\n};\n\n/**\n * Execute the Assessment and return a result.\n *\n * @param {Paper} paper The Paper object to assess.\n * @param {Researcher} researcher The Researcher object containing all available researches.\n * @param {Jed} i18n The locale object.\n *\n * @returns {AssessmentResult} The result of the assessment, containing both a score and a descriptive text.\n */\nconst urlHasStopWordsAssessment = function( paper, researcher, i18n ) {\n\tconst stopWords = researcher.getResearch( \"stopWordsInUrl\" );\n\n\tconst assessmentResult = new AssessmentResult();\n\n\tconst stopWordsResult = calculateUrlStopWordsCountResult( stopWords.length, i18n );\n\n\tassessmentResult.setScore( stopWordsResult.score );\n\tassessmentResult.setText( stopWordsResult.text );\n\n\treturn assessmentResult;\n};\n\nexport default {\n\tidentifier: \"urlStopWords\",\n\tisApplicable: function( paper ) {\n\t\treturn getLanguageAvailability( paper.getLocale(), availableLanguages );\n\t},\n\tgetResult: urlHasStopWordsAssessment,\n};\n"]}