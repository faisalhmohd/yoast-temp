{"version":3,"sources":["../../../../src/assessments/seo/taxonomyTextLengthAssessment.js"],"names":["recommendedMinimum","calculateWordCountResult","wordCount","i18n","urlTitle","urlCallToAction","score","text","sprintf","dngettext","taxonomyTextLengthAssessment","paper","researcher","getResearch","wordCountResult","assessmentResult","setScore","setText","identifier","getResult"],"mappings":"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","file":"taxonomyTextLengthAssessment.js","sourcesContent":["import AssessmentResult from \"../../values/AssessmentResult.js\";\nimport { inRange } from \"lodash-es\";\nimport { createAnchorOpeningTag } from \"../../helpers/shortlinker\";\n\nconst recommendedMinimum = 150;\n/**\n * Calculate the score based on the current word count.\n * @param {number} wordCount The amount of words to be checked against.\n * @param {object} i18n The locale object.\n * @returns {object} The resulting score object.\n */\nconst calculateWordCountResult = function( wordCount, i18n ) {\n\tconst urlTitle = createAnchorOpeningTag( \"https://yoa.st/34j\" );\n\tconst urlCallToAction = createAnchorOpeningTag( \"https://yoa.st/34k\" );\n\n\tif ( wordCount >= 150 ) {\n\t\treturn {\n\t\t\tscore: 9,\n\t\t\ttext: i18n.sprintf(\n\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: %1$d expands to the number of words in the text,\n\t\t\t\t\t%2$s expands to a link on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\t\t\"%2$sText length%3$s: The text contains %1$d word. Good job!\",\n\t\t\t\t\t\"%2$sText length%3$s: The text contains %1$d words. Good job!\",\n\t\t\t\t\twordCount ),\n\t\t\t\twordCount,\n\t\t\t\turlTitle,\n\t\t\t\t\"</a>\",\n\t\t\t),\n\t\t};\n\t}\n\n\tif ( inRange( wordCount, 125, 150 ) ) {\n\t\treturn {\n\t\t\tscore: 7,\n\t\t\ttext: i18n.sprintf(\n\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: %1$d expands to the number of words in the text,\n\t\t\t\t\t%2$s expands to a link on yoast.com, %4$d expands to the anchor end tag. */\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d word.\",\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d words.\",\n\t\t\t\t\twordCount\n\t\t\t\t) + \" \" + i18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: The preceding sentence is \"Text length: The text contains x words.\",\n\t\t\t\t\t%3$s expands to a link on yoast.com,\n\t\t\t\t\t%4$s expands to the anchor end tag,\n\t\t\t\t\t%5$d expands to the recommended minimum of words. */\n\t\t\t\t\t\"This is slightly below the recommended minimum of %5$d word. %3$sAdd a bit more copy%4$s.\",\n\t\t\t\t\t\"This is slightly below the recommended minimum of %5$d words. %3$sAdd a bit more copy%4$s.\",\n\t\t\t\t\trecommendedMinimum\n\t\t\t\t),\n\t\t\t\twordCount,\n\t\t\t\turlTitle,\n\t\t\t\turlCallToAction,\n\t\t\t\t\"</a>\",\n\t\t\t\trecommendedMinimum\n\t\t\t),\n\t\t};\n\t}\n\n\tif ( inRange( wordCount, 100, 125 ) ) {\n\t\treturn {\n\t\t\tscore: 5,\n\t\t\ttext: i18n.sprintf(\n\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: %1$d expands to the number of words in the text,\n\t\t\t\t\t%2$s expands to a link on yoast.com, %4$s expands to the anchor end tag. */\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d word.\",\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d words.\",\n\t\t\t\t\twordCount\n\t\t\t\t) + \" \" + i18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: The preceding sentence is \"Text length: The text contains x words.\",\n\t\t\t\t\t%3$s expands to a link on yoast.com,\n\t\t\t\t\t%4$s expands to the anchor end tag,\n\t\t\t\t\t%5$d expands to the recommended minimum of words. */\n\t\t\t\t\t\"This is below the recommended minimum of %5$d word. %3$sAdd more content%4$s.\",\n\t\t\t\t\t\"This is below the recommended minimum of %5$d words. %3$sAdd more content%4$s.\",\n\t\t\t\t\trecommendedMinimum\n\t\t\t\t),\n\t\t\t\twordCount,\n\t\t\t\turlTitle,\n\t\t\t\turlCallToAction,\n\t\t\t\t\"</a>\",\n\t\t\t\trecommendedMinimum\n\t\t\t),\n\t\t};\n\t}\n\n\tif ( inRange( wordCount, 50, 100 ) ) {\n\t\treturn {\n\t\t\tscore: -10,\n\t\t\ttext: i18n.sprintf(\n\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: %1$d expands to the number of words in the text,\n\t\t\t\t\t%2$s expands to a link on yoast.com, %4$s expands to the anchor end tag. */\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d word.\",\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d words.\",\n\t\t\t\t\twordCount\n\t\t\t\t) + \" \" + i18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: The preceding sentence is \"Text length: The text contains x words.\",\n\t\t\t\t\t%3$s expands to a link on yoast.com,\n\t\t\t\t\t%4$s expands to the anchor end tag,\n\t\t\t\t\t%5$d expands to the recommended minimum of words. */\n\t\t\t\t\t\"This is below the recommended minimum of %5$d word. %3$sAdd more content%4$s.\",\n\t\t\t\t\t\"This is below the recommended minimum of %5$d words. %3$sAdd more content%4$s.\",\n\t\t\t\t\trecommendedMinimum\n\t\t\t\t),\n\t\t\t\twordCount,\n\t\t\t\turlTitle,\n\t\t\t\turlCallToAction,\n\t\t\t\t\"</a>\",\n\t\t\t\trecommendedMinimum\n\t\t\t),\n\t\t};\n\t}\n\n\tif ( inRange( wordCount, 0, 50 ) ) {\n\t\treturn {\n\t\t\tscore: -20,\n\t\t\ttext: i18n.sprintf(\n\t\t\t\ti18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: %1$d expands to the number of words in the text,\n\t\t\t\t\t%2$s expands to a link on yoast.com, %4$s expands to the anchor end tag. */\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d word.\",\n\t\t\t\t\t\"%2$sText length%4$s: The text contains %1$d words.\",\n\t\t\t\t\twordCount\n\t\t\t\t) + \" \" + i18n.dngettext(\n\t\t\t\t\t\"js-text-analysis\",\n\t\t\t\t\t/* Translators: The preceding sentence is \"Text length: The text contains x words.\",\n\t\t\t\t\t%3$s expands to a link on yoast.com,\n\t\t\t\t\t%4$s expands to the anchor end tag,\n\t\t\t\t\t%5$d expands to the recommended minimum of words. */\n\t\t\t\t\t\"This is far below the recommended minimum of %5$d word. %3$sAdd more content%4$s.\",\n\t\t\t\t\t\"This is far below the recommended minimum of %5$d words. %3$sAdd more content%4$s.\",\n\t\t\t\t\trecommendedMinimum\n\t\t\t\t),\n\t\t\t\twordCount,\n\t\t\t\turlTitle,\n\t\t\t\turlCallToAction,\n\t\t\t\t\"</a>\",\n\t\t\t\trecommendedMinimum\n\t\t\t),\n\t\t};\n\t}\n};\n\n/**\n * Execute the Assessment and return a result.\n *\n * @param {Paper} paper The Paper object to assess.\n * @param {Researcher} researcher The Researcher object containing all available researches.\n * @param {Jed} i18n The locale object.\n *\n * @returns {AssessmentResult} The result of the assessment, containing both a score and a descriptive text.\n */\nconst taxonomyTextLengthAssessment = function( paper, researcher, i18n ) {\n\tconst wordCount = researcher.getResearch( \"wordCountInText\" );\n\tconst wordCountResult = calculateWordCountResult( wordCount, i18n );\n\tconst assessmentResult = new AssessmentResult();\n\n\tassessmentResult.setScore( wordCountResult.score );\n\tassessmentResult.setText( i18n.sprintf( wordCountResult.text, wordCount, recommendedMinimum ) );\n\n\treturn assessmentResult;\n};\n\nexport default {\n\tidentifier: \"taxonomyTextLength\",\n\tgetResult: taxonomyTextLengthAssessment,\n};\n"]}